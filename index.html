<!DOCTYPE html>
<html lang="hy">
<head>
<meta charset="UTF-8">
<title>Ողջի գետի ջրի որակի վերլուծություն</title>

<!-- Leaflet CSS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
  }
  h2 {
    text-align: center;
  }
  #charts {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-around;
    margin: 20px;
  }
  canvas {
    background: #f9f9f9;
    border: 1px solid #ccc;
    margin: 10px;
    padding: 10px;
  }
  #map {
    height: 400px;
    margin: 20px;
  }
</style>
</head>
<body>

<h2>Ողջի գետի ջրի որակի վերլուծություն</h2>

<div id="charts">
  <canvas id="chart1" width="400" height="300"></canvas>
  <canvas id="chart2" width="400" height="300"></canvas>
</div>

<div id="map"></div>

<script>
// Example data for elements and water quality classes
const elements = ["Fe", "Mn", "Cu", "Zn", "Pb", "Ni"];
const concentrations = [120, 45, 30, 90, 20, 55]; // Example ppm
const waterQualityClasses = [5, 3, 4, 5, 2, 4]; // Quality classes for each element

// Chart 1: Element concentrations vs water quality class
const ctx1 = document.getElementById('chart1').getContext('2d');
const chart1 = new Chart(ctx1, {
    type: 'bar',
    data: {
        labels: elements,
        datasets: [{
            label: 'Կոնցենտրացիա (ppm)',
            data: concentrations,
            backgroundColor: concentrations.map((val, i) => waterQualityClasses[i] >= 4 ? 'rgba(255,99,132,0.7)' : 'rgba(54,162,235,0.7)'),
            borderColor: concentrations.map((val, i) => waterQualityClasses[i] >= 4 ? 'rgba(255,99,132,1)' : 'rgba(54,162,235,1)'),
            borderWidth: 1
        }]
    },
    options: {
        plugins: {
            title: {
                display: true,
                text: 'Տարրերի կոնցենտրացիաները և ջրի որակի դասերը (5 և 4 դասերը առանձնացված են կարմիրով)'
            }
        },
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
});

// Chart 2: Element concentrations comparison with each other
const ctx2 = document.getElementById('chart2').getContext('2d');
const chart2 = new Chart(ctx2, {
    type: 'radar',
    data: {
        labels: elements,
        datasets: [{
            label: 'Կոնցենտրացիաները',
            data: concentrations,
            backgroundColor: 'rgba(75,192,192,0.2)',
            borderColor: 'rgba(75,192,192,1)',
            borderWidth: 2,
            pointBackgroundColor: 'rgba(75,192,192,1)'
        }]
    },
    options: {
        plugins: {
            title: {
                display: true,
                text: 'Տարրերի կոնցենտրացիաների համեմատություն միմյանց հետ'
            }
        },
        scales: {
            r: {
                beginAtZero: true
            }
        }
    }
});

// Leaflet map
const map = L.map('map').setView([40.5, 45.3], 10); // Կենտրոնացված օրինակային կոորդինատ

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '© OpenStreetMap contributors'
}).addTo(map);

// Marker for Հ.Ֆ.
const marker = L.marker([40.55, 45.35]).addTo(map)
    .bindPopup('<b>Հ.Ֆ.</b><br>Կետը Օգտագործողի տվյալների համաձայն')
    .openPopup();
</script>

</body>
</html>
